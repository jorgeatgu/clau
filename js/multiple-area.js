const barVertical=()=>{const a=24,t=24,e=24,n=24;let c=0,s=0,r=0,o=0;const l=d3.select(".chart-multiple-lines"),i={};let d;d3.scaleOrdinal(["#9a1622","#e30613","#0080b8","#f07a36"]);const v=d3.timeParse("%x"),u=d=>{r=l.node().offsetWidth,c=r-n-t,s=(o=600)-a-e;const v=d3.nest().key(function(a){return a.presentada}).entries(d);console.log(v),v.forEach(function(a){a.maxPrice=d3.max(a.values,function(a){return a.votos})}),l.selectAll("svg").data(v).enter().append("svg").attr("width",r).attr("height",o).append("g").attr("class","area-container-chart-vertical").append("g").attr("class","axis axis-x");const u="translate("+n+","+a+")";l.select(".chart-lluvia-bar-vertical-container").attr("transform",u);const f=d3.area().x(a=>i.count.x(a.fecha)).y0(s).y1(a=>i.count.y(a.votos)).curve(d3.curveCardinal.tension(.6));((a,t)=>{i.count.x.range([0,a]),i.count.y.range([t,0])})(c,s);const h=l.select(".area-container-chart-vertical").selectAll(".area").data([d]),m=h.enter().append("path").attr("class","area").attr("class",a=>a.key);h.merge(m).attr("d",a=>f(a.values))};window.addEventListener("resize",()=>{u(d)}),d3.csv("csv/legislatura-psoe-votos-a-favor.csv",function(a,t){a?console.log(a):((d=t).forEach(a=>{a.votos=+a.votos,a.fecha=v(a.fecha)}),(()=>{const a=d3.scaleTime().domain([d3.min(d,a=>a.fecha),d3.max(d,a=>a.fecha)]),t=d3.scaleLinear().domain([d3.min(d,a=>a.votos),d3.max(d,a=>a.votos)]);i.count={x:a,y:t}})(),u(d))})};barVertical();