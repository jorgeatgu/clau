const maxvul=()=>{const t=24,a=48,e=24,r=24;let c=0,n=0,s=0,o=0;const i=d3.select(".chart-temperature-max"),l=i.select("svg"),m={};let d;const x=d=>{s=i.node().offsetWidth,c=s-r-a,n=(o=200)-t-e,l.attr("width",s).attr("height",o);const x="translate("+r+","+t+")",h=l.select(".chart-temperature-max-container");h.attr("transform",x),(t=>{m.count.x.range([0,t])})(c);const u=i.select(".chart-temperature-max-container-bis").selectAll(".circles-max").data(d),f=u.enter().append("circle").attr("class","circles-max");u.merge(f).attr("cx",t=>m.count.x(t.fecha)).attr("cy",n/2).attr("r",0).transition().delay(function(t,a){return 10*a}).duration(300).attr("r",t=>3*t.total).attr("fill-opacity",.6),(t=>{const a=d3.axisBottom(m.count.x).tickFormat(d3.format("d")).ticks(6).tickPadding(30);t.select(".axis-x").attr("transform","translate(0,"+n/2+")").call(a)})(h)};window.addEventListener("resize",()=>{x(d)}),d3.csv("csv/max-record.csv",(t,a)=>{t?console.log(t):((d=a).forEach(t=>{t.fecha=t.yearmax,t.total=t.totalmax}),(()=>{const t=l.select(".chart-temperature-max-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","chart-temperature-max-container-bis")})(),(()=>{const t=d3.scaleLinear().domain([d3.min(d,t=>t.fecha),d3.max(d,t=>t.fecha)]),a=d3.scaleLinear().domain([d3.min(d,t=>t.total),d3.max(d,t=>t.total)]);m.count={x:t,y:a}})(),x(d))})};maxvul();