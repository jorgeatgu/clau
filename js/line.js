function line(){const t={top:24,right:24,bottom:24,left:24};let n=0,e=0;const a=d3.select(".line-lluvia"),c=a.select("svg"),i={};let l;function s(l){const s=a.node().offsetWidth;n=s-t.left-t.right,e=600-t.top-t.bottom,c.attr("width",s).attr("height",600);const o="translate("+t.left+","+t.top+")",r=c.select(".line-lluvia-container");r.attr("transform",o);const d=d3.line().x(function(t){return i.count.x(t.fecha)}).y(function(t){return i.count.y(t.dias)});!function(t,n){i.count.x.range([0,t]),i.count.y.range([n,0])}(n,e);const u=a.select(".line-lluvia-container-dos"),f=u.selectAll(".line").data([l]),x=f.enter().append("path").attr("class","line").attr("stroke-width","1.5"),m=u.selectAll(".circles").data(l),p=m.enter().append("circle").attr("class","circles").attr("fill","#921d5d");f.merge(x).attr("d",d),m.merge(p).attr("cx",function(t){return i.count.x(t.fecha)}).attr("cy",function(t){return i.count.y(t.dias_lluvia)}).attr("r",3),function(t){const a=d3.axisBottom(i.count.x).tickFormat(d3.format("d")).ticks(13);t.select(".axis-x").attr("transform","translate(0,"+e+")").call(a);const c=d3.axisLeft(i.count.y).tickFormat(d3.format("d")).ticks(5).tickSizeInner(-n);t.select(".axis-y").call(c)}(r)}window.addEventListener("resize",function(){s(l)}),d3.csv("csv/dias-de-lluvia.csv",function(t,n){t?console.log(t):((l=n).forEach(t=>{t.fecha=t.fecha,t.dias_lluvia=t.dias}),function(){const t=c.select(".line-lluvia-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","line-lluvia-container-dos")}(),function(){const t=d3.scaleTime().domain([1951,2017]),n=d3.scaleLinear().domain([0,60]);i.count={x:t,y:n}}(),s(l))})}line();