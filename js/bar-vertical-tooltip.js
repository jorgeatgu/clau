function barVerticalTooltip(){const t={top:24,right:24,bottom:24,left:24};let a=0,o=0;const i=d3.select(".chart-lluvia-bar-vertical-tooltip"),c=i.select("svg"),e={};let l;const n=i.append("div").attr("class","tooltip-container").style("opacity",1);function s(l){const s=i.node().offsetWidth;a=s-t.left-t.right,o=600-t.top-t.bottom,c.attr("width",s).attr("height",600);const r="translate("+t.left+","+t.top+")",d=c.select(".chart-lluvia-bar-vertical-tooltip-container");d.attr("transform",r),function(t,a){e.count.x.range([0,t]),e.count.y.range([a,0])}(a,o);const p=i.select(".area-container-chart-vertical-tooltip").selectAll(".bar-vertical").data(l),u=p.enter().append("rect").attr("class","bar-vertical");p.merge(u).on("mouseover",t=>{n.transition().duration(300).style("opacity",1),n.html('<div class="tooltip-lluvia-mes-container"><p class="tooltip-lluvia-mes">Lluvia acumulada en '+t.dias+'<span class="tooltip-lluvia-mes-total">: '+t.fecha+'mm</span><p/><p class="tooltip-lluvia-mes">Lluvia acumulada en '+t.precipitacion_anual+'<span class="tooltip-lluvia-mes-total">: '+t.fecha+"mm</span><p/></div>")}).on("mouseout",t=>{n.style("opacity",0)}).attr("width",a/l.length-1).attr("x",t=>e.count.x(t.fecha)).attr("y",t=>e.count.y(t.dias)).attr("height",t=>o-e.count.y(t.dias)),function(t){const i=d3.axisBottom(e.count.x).tickFormat(d3.format("d"));t.select(".axis-x").attr("transform","translate(0,"+o+")").call(i);const c=d3.axisLeft(e.count.y).tickFormat(d3.format("d")).ticks(5).tickSize(-a);t.select(".axis-y").call(c)}(d)}window.addEventListener("resize",function(){s(l)}),d3.csv("csv/dias-de-lluvia.csv",function(t,a){t?console.log(t):((l=a).forEach(t=>{t.fecha=t.fecha,t.dias_lluvia=t.dias}),function(){const t=c.select(".chart-lluvia-bar-vertical-tooltip-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","area-container-chart-vertical-tooltip")}(),function(){const t=d3.scaleLinear().domain([d3.min(l,t=>t.fecha),d3.max(l,t=>t.fecha)]),a=d3.scaleLinear().domain([0,60]);e.count={x:t,y:a}}(),s(l))})}barVerticalTooltip();