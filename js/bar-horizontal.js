const barHorizontal=()=>{const a=24,t=24,r=24,n=64;let e=0,o=0;const s=d3.select(".chart-lluvia-bar-horizontal"),c=s.select("svg"),i={};let l;const d=l=>{const d=s.node().offsetWidth,h=20*l.length;e=d-n-t,o=h-a-r,c.attr("width",d).attr("height",h);const x=`translate(${n},${a})`,g=c.select(".chart-lluvia-bar-horizontal-container");g.attr("transform",x),((a,t)=>{i.count.x.range([0,a]),i.count.y.range([t,0])})(e,o);const u=s.select(".area-container-chart-horizontal").selectAll(".bar-horizontal").data(l),m=u.enter().append("rect").attr("class","bar-horizontal bar-bgc5");u.merge(m).attr("x",0).attr("y",a=>i.count.y(a.fecha)).attr("height",o/l.length-2).attr("width",a=>i.count.x(a.dias)),(a=>{const t=d3.axisBottom(i.count.x).tickFormat(d3.format("d")).tickSize(-o);a.select(".axis-x").attr("transform",`translate(0,${o})`).call(t);const r=d3.axisLeft(i.count.y).ticks(1).tickFormat(d3.format("d"));a.select(".axis-y").call(r)})(g)};window.addEventListener("resize",()=>{d(l)}),d3.csv("csv/dias-de-lluvia.csv",(a,t)=>{a?console.log(a):((l=t).forEach(a=>{a.dias_lluvia=a.dias}),l.sort((a,t)=>a.dias_lluvia-t.dias_lluvia),(()=>{const a=c.select(".chart-lluvia-bar-horizontal-container");a.append("g").attr("class","axis axis-x"),a.append("g").attr("class","axis axis-y"),a.append("g").attr("class","area-container-chart-horizontal")})(),(()=>{const a=d3.scaleLinear().domain([0,d3.max(l,a=>a.dias)]),t=d3.scaleBand().domain(l.map(a=>a.fecha)).paddingInner(.1).paddingOuter(.5);i.count={x:a,y:t}})(),d(l))})};barHorizontal();