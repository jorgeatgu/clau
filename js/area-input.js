function areaInput(){const t={top:24,right:24,bottom:24,left:24};let e=0,a=0;const n=d3.select(".chart-lluvia-input"),c=n.select("svg");let i={};const s="ÂºC";function o(o){const r=n.node().offsetWidth;e=r-t.left-t.right,a=400-t.top-t.bottom,c.attr("width",r).attr("height",400);const l="translate("+t.left+","+t.top+")",m=c.select(".chart-lluvia-input-container");m.attr("transform",l);const d=d3.area().x(t=>i.count.x(t.fecha)).y0(a).y1(t=>i.count.y(t.max));!function(t,e){i.count.x.range([0,t]),i.count.y.range([e,0])}(e,a);const u=n.select(".area-input-container").selectAll(".area").data([o]),p=u.enter().append("path").attr("class","area");u.merge(p).transition().duration(600).ease(d3.easeLinear).attr("d",d),function(t){const n=d3.axisBottom(i.count.x).tickFormat(d3.format("d")).ticks(13);t.select(".axis-x").attr("transform","translate(0,"+a+")").transition().duration(200).call(n);const c=d3.axisLeft(i.count.y).tickSize(-e).tickFormat(t=>t+s).ticks(2);t.select(".axis-y").transition().duration(200).call(c)}(m)}window.addEventListener("resize",function(){d3.csv("csv/total-media-limpio.csv",function(t,e){const a=d3.select("#mes-mensual-minima").select("select").property("value");o(e=e.filter(t=>String(t.mes).match(a)))})}),d3.csv("csv/total-media-limpio.csv",function(t,e){t?console.log(t):((e=e.filter(t=>String(t.mes).match(/Enero/))).forEach(t=>{t.max=+t.max,t.fecha=t.fecha,t.mes=t.mes}),function(){const t=c.select(".chart-lluvia-input-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","area-input-container")}(),function(){const t=d3.scaleTime().domain([1951,2018]),e=d3.scaleLinear().domain([0,20]);i.count={x:t,y:e}}(),o(e))}),d3.csv("csv/total-media-limpio.csv",function(t,n){if(t)console.log(t);else{const t=d3.nest().key(t=>t.mes).entries(n),c=d3.select("#mes-mensual-minima");c.append("select").selectAll("option").data(t).enter().append("option").attr("value",t=>t.key).text(t=>t.key),c.on("change",function(){!function(t){d3.csv("csv/total-media-limpio.csv",function(n,c){(c=c.filter(function(e){return String(e.mes).match(t)})).forEach(t=>{t.max=+t.max}),i.count.x.range([0,e]),i.count.y.range([a,0]);const s=d3.scaleTime().domain([1951,2018]),r=d3.scaleLinear().domain([d3.min(c,t=>t.max-5),d3.max(c,t=>t.max+5)]);i.count={x:s,y:r},o(c)})}(d3.select(this).select("select").property("value"))})}})}areaInput();