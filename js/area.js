const area=()=>{const a=24,t=24,e=24,s=24;let c=0,n=0;const r=d3.select(".chart-lluvia"),o=r.select("svg"),i={};let d;const l=d=>{const l=r.node().offsetWidth;c=l-s-t,n=600-a-e,o.attr("width",l).attr("height",600);const x="translate("+s+","+a+")",u=o.select(".container");u.attr("transform",x);const f=d3.area().x(a=>i.count.x(a.fecha)).y0(n).y1(a=>i.count.y(a.dias)).curve(d3.curveCardinal.tension(.6));((a,t)=>{i.count.x.range([0,a]),i.count.y.range([t,0])})(c,n);const m=r.select(".area-container").selectAll(".area").data([d]),h=m.enter().append("path").attr("class","area");m.merge(h).transition().duration(600).ease(d3.easeLinear).attr("d",f),(a=>{const t=d3.axisBottom(i.count.x).tickFormat(d3.format("d")).ticks(13);a.select(".axis-x").attr("transform","translate(0,"+n+")").call(t);const e=d3.axisLeft(i.count.y).tickFormat(d3.format("d")).ticks(5).tickSizeInner(-c);a.select(".axis-y").call(e)})(u)};window.addEventListener("resize",()=>{l(d)}),d3.csv("csv/dias-de-lluvia.csv",(a,t)=>{a?console.log(a):((d=t).forEach(a=>{a.fecha=a.fecha,a.dias_lluvia=a.dias}),(()=>{const a=o.select(".container");a.append("g").attr("class","axis axis-x"),a.append("g").attr("class","axis axis-y"),a.append("g").attr("class","area-container")})(),(()=>{const a=d3.scaleTime().domain([1951,2017]),t=d3.scaleLinear().domain([0,60]);i.count={x:a,y:t}})(),l(d))})};area();