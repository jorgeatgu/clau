import wesPalette from"./../../../../src/js/color.js";wesPalette();const barVerticalTooltip=()=>{const t=24,a=24,e=24,l=24;let s=0,o=0;const c=d3.select(".chart-lluvia-bar-vertical-tooltip"),i=c.select("svg"),r={};let n;const d=c.append("div").attr("class","tooltip-container").style("opacity",1),p=n=>{const p=c.node().offsetWidth;s=p-l-a,o=600-t-e,i.attr("width",p).attr("height",600);const u="translate("+l+","+t+")",m=i.select(".chart-lluvia-bar-vertical-tooltip-container");m.attr("transform",u),((t,a)=>{r.count.x.range([0,t]),r.count.y.range([a,0])})(s,o);const v=c.select(".area-container-chart-vertical-tooltip").selectAll(".bar-vertical").data(n),h=v.enter().append("rect").attr("class","bar-vertical");v.merge(h).on("mouseover",t=>{d.transition().duration(300).style("opacity",1),d.html('<div class="tooltip-lluvia-mes-container"><p class="tooltip-lluvia-mes">Lluvia acumulada en '+t.fecha+'<span class="tooltip-lluvia-mes-total">: '+t.dias+'mm</span><p/><p class="tooltip-lluvia-mes">Lluvia acumulada en '+t.fecha+'<span class="tooltip-lluvia-mes-total">: '+t.precipitacion_anual+"mm</span><p/></div>")}).on("mouseout",t=>{d.style("opacity",0)}).attr("width",s/n.length-1).attr("x",t=>r.count.x(t.fecha)).attr("y",t=>r.count.y(t.dias)).attr("height",t=>o-r.count.y(t.dias)),(t=>{const a=d3.axisBottom(r.count.x).tickFormat(d3.format("d"));t.select(".axis-x").attr("transform","translate(0,"+o+")").call(a);const e=d3.axisLeft(r.count.y).tickFormat(d3.format("d")).ticks(5).tickSize(-s);t.select(".axis-y").call(e)})(m)};window.addEventListener("resize",()=>{p(n)}),d3.csv("csv/dias-de-lluvia.csv",(t,a)=>{t?console.log(t):((n=a).forEach(t=>{t.dias_lluvia=t.dias}),(()=>{const t=i.select(".chart-lluvia-bar-vertical-tooltip-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","area-container-chart-vertical-tooltip")})(),(()=>{const t=d3.scaleLinear().domain([d3.min(n,t=>t.fecha),d3.max(n,t=>t.fecha)]),a=d3.scaleLinear().domain([0,60]);r.count={x:t,y:a}})(),p(n))})};barVerticalTooltip();