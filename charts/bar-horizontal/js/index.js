const barHorizontal=()=>{const t=24,a=24,n=24,r=64;let e=0,o=0;const s=d3.select(".chart-lluvia-bar-horizontal"),c=s.select("svg"),i={};let l;const d=l=>{const d=s.node().offsetWidth,h=20*l.length;e=d-r-a,o=h-t-n,c.attr("width",d).attr("height",h);const x=`translate(${r},${t})`,u=c.select(".chart-lluvia-bar-horizontal-container");u.attr("transform",x),((t,a)=>{i.count.x.range([0,t]),i.count.y.range([a,0])})(e,o);const g=s.select(".area-container-chart-horizontal").selectAll(".bar-horizontal").data(l),m=g.enter().append("rect").attr("class","bar-horizontal");g.merge(m).attr("x",0).attr("y",t=>i.count.y(t.fecha)).attr("height",o/l.length-2).attr("width",t=>i.count.x(t.dias)),(t=>{const a=d3.axisBottom(i.count.x).tickFormat(d3.format("d")).tickSize(-o);t.select(".axis-x").attr("transform",`translate(0,${o})`).call(a);const n=d3.axisLeft(i.count.y).ticks(1).tickFormat(d3.format("d"));t.select(".axis-y").call(n)})(u)};window.addEventListener("resize",()=>{d(l)}),d3.csv("csv/dias-de-lluvia.csv",(t,a)=>{t?console.log(t):((l=a).forEach(t=>{t.dias_lluvia=t.dias}),l.sort((t,a)=>t.dias_lluvia-a.dias_lluvia),(()=>{const t=c.select(".chart-lluvia-bar-horizontal-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","area-container-chart-horizontal")})(),(()=>{const t=d3.scaleLinear().domain([0,d3.max(l,t=>t.dias)]),a=d3.scaleBand().domain(l.map(t=>t.fecha)).paddingInner(.1).paddingOuter(.5);i.count={x:t,y:a}})(),d(l))})};barHorizontal();