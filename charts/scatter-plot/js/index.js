import wesPalette from"./../../../../src/js/color.js";wesPalette();const barscatter=()=>{const t=24,a=24,e=24,c=32;let r=0,s=0,n=0,i=0;const o=d3.select(".chart-lluvia-scatter"),l=o.select("svg"),d={};let m;const u=m=>{n=o.node().offsetWidth,r=n-c-a,s=(i=600)-t-e,l.attr("width",n).attr("height",i);const u="translate("+c+","+t+")",x=l.select(".chart-lluvia-scatter-container");x.attr("transform",u),((t,a)=>{d.count.x.range([0,t]),d.count.y.range([a,20])})(r,s);const f=o.select(".area-container-chart-scatter").selectAll(".scatter-circles").data(m),p=f.enter().append("circle").attr("class","scatter-circles");f.merge(p).attr("cx",t=>d.count.x(t.year)).attr("cy",t=>d.count.y(t.minima)).attr("r",6).attr("fill-opacity",.6),(t=>{const a=d3.axisBottom(d.count.x).tickFormat(d3.format("d")).ticks(20);t.select(".axis-x").attr("transform","translate(0,"+s+")").call(a);const e=d3.axisLeft(d.count.y).tickFormat(function(t){return t+"ÂºC"}).tickSize(-r).ticks(5);t.select(".axis-y").call(e)})(x)};window.addEventListener("resize",()=>{u(m)}),d3.csv("csv/tropicales-por-dia.csv",(t,a)=>{t?console.log(t):((m=a).forEach(t=>{t.dias=(t=>t.substring(0,5))(t.fecha),t.minima=t.min,t.year=(t=>t.split("-")[2])(t.fecha)}),(()=>{const t=l.select(".chart-lluvia-scatter-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","area-container-chart-scatter")})(),(()=>{const t=d3.scaleLinear().domain([d3.min(m,function(t){return t.year}),d3.max(m,function(t){return t.year})]),a=d3.scaleLinear().domain([d3.min(m,function(t){return t.minima}),d3.max(m,function(t){return t.minima})]);d.count={x:t,y:a}})(),u(m))})};barscatter();