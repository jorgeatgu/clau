import wesPalette from"./../../../../src/js/color.js";wesPalette();const line=()=>{const t=24,e=24,a=24,s=24;let c=0,l=0;const n=d3.select(".line-lluvia"),i=n.select("svg"),o={};let r;const d=r=>{const d=n.node().offsetWidth;c=d-s-e,l=600-t-a,i.attr("width",d).attr("height",600);const u="translate("+s+","+t+")",x=i.select(".line-lluvia-container");x.attr("transform",u);const m=d3.line().x(t=>o.count.x(t.fecha)).y(t=>o.count.y(t.dias));((t,e)=>{o.count.x.range([0,t]),o.count.y.range([e,0])})(c,l);const v=n.select(".line-lluvia-container-dos"),p=v.selectAll(".line").data([r]),f=p.enter().append("path").attr("class","line").attr("stroke-width","1.5"),g=v.selectAll(".circles").data(r),h=g.enter().append("circle").attr("class","circles");p.merge(f).attr("d",m),g.merge(h).attr("cx",t=>o.count.x(t.fecha)).attr("cy",t=>o.count.y(t.dias_lluvia)).attr("r",3),(t=>{const e=d3.axisBottom(o.count.x).tickFormat(d3.format("d")).ticks(13);t.select(".axis-x").attr("transform","translate(0,"+l+")").call(e);const a=d3.axisLeft(o.count.y).tickFormat(d3.format("d")).ticks(5).tickSizeInner(-c);t.select(".axis-y").call(a)})(x)};window.addEventListener("resize",()=>{d(r)}),d3.csv("csv/dias-de-lluvia.csv",(t,e)=>{t?console.log(t):((r=e).forEach(t=>{t.dias_lluvia=t.dias}),(()=>{const t=i.select(".line-lluvia-container");t.append("g").attr("class","axis axis-x"),t.append("g").attr("class","axis axis-y"),t.append("g").attr("class","line-lluvia-container-dos")})(),(()=>{const t=d3.scaleTime().domain([1951,2017]),e=d3.scaleLinear().domain([0,60]);o.count={x:t,y:e}})(),d(r))})};line();